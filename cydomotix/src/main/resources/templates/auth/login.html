<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" type="text/css" href="/css/login.css" th:href="@{/css/login.css}" />
    <script src="/js/app.js" defer></script>



</head>
<body>
<div id="mainContainer">

    <!-- FOMULAIRE DE CONNEXION -->

    <div id="main">
        <div id="loginForm">


            <h1>Connexion</h1>
            <br>

            <form th:action="@{/login}" method="POST"> <!-- Ajout de la balise form -->
                <p>Pseudonyme</p>
                <div id="BarrePseudonyme">
                    <svg  xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="icon" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                    </svg>
                    <input id="inputPseudo" type="text" name="username" placeholder="Entrez votre pseudonyme" required>
                </div>

                <p>Mot de passe</p>
                <div id="BarreMDP">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="icon" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"/>
                    </svg>
                    <input id="inputMDP" type="password" name="password" placeholder="Entrez votre mot de passe" required>

                </div>
                <div class="endPage">

                    <div id="SeConnecter">
                        <input type="submit" class="bouton" value="SE CONNECTER">
                    </div>

                </div>


                <br><br><br><br>

                <div class="inscription">
                    <p class="inscription">Ou inscrivez-vous ici</p>

                    <p class="inscription" id="pChangeForm">Inscription</p>


                </div>
            </form>

        </div>

        <!-- FORMULAIRE D'INSCRIPTION (CACHÉ PAR DÉFAUT) -->

        <div id="signupForm" class="hidden">


            <h1>Inscription</h1>

            <form th:action="@{/register}" method="post" enctype="multipart/form-data" th:object="${user}">

                <div id="containerSignUp">

                    <div class="signUpPart">

                        <div class="signUpPartLine">
                            <label for="pseudonyme">Pseudonyme :</label><br>
                            <input type="text" class="SignUpInput"  th:field="*{username}" placeholder="Entrez votre pseudonyme" id="pseudonyme" name="pseudonyme" required ><br><br>
                        </div>


                        <div class="signUpPartLine">
                            <label for="password">Mot de passe :</label><br>
                            <input type="password" class="SignUpInput" placeholder="Entrez votre mot de passe" id="password" name="password" th:field="*{password}" required><br><br>
                        </div>

                        <div class="signUpPartLine">
                            <label for="nom">Nom :</label><br>
                            <input type="text" id="nom" class="SignUpInput" placeholder="Entrez votre nom" name="nom" required><br><br>
                        </div>

                        <div class="signUpPartLine">
                            <label for="prenom">Prénom :</label><br>
                            <input type="text" id="prenom"  class="SignUpInput" placeholder="Entrez votre prénom" name="prenom" required><br><br>
                        </div>

                    </div>

                    <div class="signUpPart">
                        <br><br>
                        <label for="age">Âge :</label><br>
                        <input type="number" id="age" name="age" required><br><br>

                        <label for="sexe">Sexe :</label><br>
                        <select id="sexe" name="sexe" required>
                            <option value="">-- Choisir --</option>
                            <option value="homme">Homme</option>
                            <option value="femme">Femme</option>
                            <option value="autre">Autre</option>
                        </select><br><br>

                        <label for="date_naissance">Date de naissance :</label><br>
                        <input type="date" id="date_naissance" name="date_naissance" required><br><br>

                        <label for="type_membre">Type de membre :</label><br>
                        <select id="type_membre" name="type_membre" required>
                            <option value="">-- Choisir --</option>
                            <option value="mère">Mère</option>
                            <option value="père">Père</option>
                            <option value="enfant">Enfant</option>
                        </select><br><br>
                        <label for="photo">Photo :</label>
                        <input type="file" id="photo" name="photo" accept="image/*" required>
                    </div>


                </div>

                <div class="endPage">


                    <input type="submit" class="bouton" value="S'INSCRIRE">
                </div>


            </form>




            <div class="inscription">
                <p class="inscription" >Déjà un compte ?</p>
                <p class="inscription" id="pChangeToLogin">Se connecter</p>
            </div>

        </div>

    </div>

</div>



</div>




<script>
    document.addEventListener("DOMContentLoaded", function() {
        const urlParams = new URLSearchParams(window.location.search);
        const show = urlParams.get("show");

        const loginForm = document.getElementById("loginForm");
        const signupForm = document.getElementById("signupForm");
        const main = document.getElementById("main");

        if (show === "register") {
            signupForm.classList.remove("hidden");
            loginForm.classList.add("hidden");
        } else {
            loginForm.classList.remove("hidden");
            signupForm.classList.add("hidden");
        }

        document.getElementById("pChangeForm").addEventListener("click", function() {
            loginForm.classList.add("hidden");
            signupForm.classList.remove("hidden");
            main.classList.toggle("inscription-mode");
        });

        document.getElementById("pChangeToLogin").addEventListener("click", function() {
            signupForm.classList.add("hidden");
            loginForm.classList.remove("hidden");
            main.classList.remove("inscription-mode");
        });
    });


</script>
</body>

</html>
